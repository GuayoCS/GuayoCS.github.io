<!DOCTYPE html>
<html lang="en">

<head>
    <title>Fridge Buddy Template</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <link rel="stylesheet" href="fridgeBrosStyle.css">


    <!-- For the profile layout -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>

<body onload="load()">

    <nav class="navbar sticky-top navbar-dark bg-dark">
        <form class="form-inline">
            <object id="fridge-icon" type="image/svg+xml" data="fridge2-svg.svg" height="50" width="40"> Your browser
                does not support svg images</object>
            <button class="btn btn-default" id="side-toggle">Menu</button>


        </form>
        <span id="nav-title" class="navbar-text">
            Fridge Buddy
        </span>
        <form class="form-inline">
            <button class="btn btn-outline-default" type="button" onclick="window.location.href='profile.html'">Profile</button>
            <button class="btn btn-outline-default" type="button" onclick="window.location.href='login.html'">Sign Out</button>

        </form>
    </nav>

    <div id="wrapper">

        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li><a href="mealplan.html">Meal Plan</a></li>
                <li><a href="recipes.html">Recipes</a></li>
                <li><a href="fridge.html">Fridge</a></li>
            </ul>
        </div>

        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-10">
                        <h1 id="welcome"> Welcome, "User Name" </h1>
                        <p>
                            <hr>
                            <div class="container bootstrap snippet">
                                <div class="row">
                                    <div class="col-sm-10">
                                        <h1>User name</h1>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <!--left col-->


                                        <div class="text-center">
                                            <img id="picture" src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" class="avatar img-circle img-thumbnail"
                                                alt="avatar">

                                            <input type="file" id="real-file-button" class="text-center center-block file-upload"
                                                hidden="hidden">
                                            <button type="button" id="custom-button">Choose IMG</button>
                                            <span id="custom-text"></span>
                                        </div><br>


                                        <div class="panel panel-default">
                                            <div class="panel-heading"> <i class="fa fa-link fa-1x"></i></div>
                                        </div>

                                        <!----
                                        <ul class="list-group">
                                            <li class="list-group-item text-muted">Activity <i class="fa fa-dashboard fa-1x"></i></li>
                                            <li class="list-group-item text-right"><span class="pull-left"><strong>Shares</strong></span> 125</li>
                                            <li class="list-group-item text-right"><span class="pull-left"><strong>Likes</strong></span> 13</li>
                                            <li class="list-group-item text-right"><span class="pull-left"><strong>Posts</strong></span> 37</li>
                                            <li class="list-group-item text-right"><span class="pull-left"><strong>Followers</strong></span> 78</li>
                                        </ul> -->

                                        <div class="panel panel-default">
                                            <div class="panel-heading"></div>
                                            <div class="panel-body">
                                                <i class="fa fa-facebook fa-2x"></i> <i class="fa fa-github fa-2x"></i>
                                                <i class="fa fa-twitter fa-2x"></i> <i class="fa fa-pinterest fa-2x"></i>
                                                <i class="fa fa-google-plus fa-2x"></i>
                                            </div>
                                        </div>

                                    </div>
                                    <!--/col-3-->
                                    <div class="col-sm-9">
                                        <ul class="nav nav-tabs">
                                        </ul>


                                        <div class="tab-content">
                                            <div class="tab-pane active" id="home">

                                                <div class="form" id="registrationForm">
                                                    <div class="form-group">

                                                        <div class="col-xs-6">
                                                            <label for="first_name">
                                                                <h4>First name</h4>
                                                            </label>
                                                            <input type="text" class="form-control" name="first_name"
                                                                id="first_name" placeholder="First Name" title="enter your first name if any.">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">

                                                        <div class="col-xs-6">
                                                            <label for="last_name">
                                                                <h4>Last name</h4>
                                                            </label>
                                                            <input type="text" class="form-control" name="last_name" id="last_name"
                                                                placeholder="Last Name" title="enter your last name if any.">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">

                                                        <div class="col-xs-6">
                                                            <label for="phone">
                                                                <h4>Phone</h4>
                                                            </label>
                                                            <input type="text" class="form-control" name="phone" id="phone"
                                                                placeholder="(xxx) xxx-xxxx" title="enter your phone number if any.">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">

                                                        <div class="col-xs-6">
                                                            <label for="email">
                                                                <h4>Email</h4>
                                                            </label>
                                                            <input type="email" class="form-control" name="email" id="email"
                                                                placeholder="your@email.com" title="enter your email.">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">

                                                        <div class="col-xs-6">
                                                            <label for="location">
                                                                <h4>Location</h4>
                                                            </label>
                                                            <input type="email" class="form-control" id="location"
                                                                placeholder="City, State / Zipcode" title="enter a location">
                                                        </div>
                                                    </div>


                                                    <div class="form-group">
                                                        <div class="col-xs-12">
                                                            <br>
                                                            <button onclick="save()" class="btn btn-lg btn-success" >
                                                              Save</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/tab-pane-->

                                        </div>
                                        <!--/tab-content-->

                                    </div>
                                    <!--/col-9-->
                                </div>
                                <!--/row-->



                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        $("#wrapper").toggleClass("toggled");
        $("#side-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });


        // db functions 
        // first, last, phone, email, location
        // create an array of size 5 and then populate with information


        function save() {
            var first_name = document.getElementById('first_name').value;
            localStorage.setItem('first_name', first_name);

            var last_name = document.getElementById('last_name').value;
            localStorage.setItem('last_name', last_name);

            var phone = document.getElementById('phone').value;
            localStorage.setItem('phone', phone);

            var email = document.getElementById('email').value;
            localStorage.setItem('email', email);

            var location = document.getElementById('location').value;
            localStorage.setItem('location', location);

            var picture = document.getElementById('picture').src;
            localStorage.setItem('picture', picture);
        }

        function load() {
            var storedValue1 = localStorage.getItem('first_name');
            if (storedValue1) {
                document.getElementById('first_name').value = storedValue1;
                document.getElementById('welcome').innerHTML = 'Welcome, ' + storedValue1 +'!'; 
            }

            var storedValue2 = localStorage.getItem('last_name');
            if (storedValue2) {
                document.getElementById('last_name').value = storedValue2;
            }

            var storedValue3 = localStorage.getItem('phone');
            if (storedValue3) {
                document.getElementById('phone').value = storedValue3;
            }

            var storedValue4 = localStorage.getItem('email');
            if (storedValue4) {
                document.getElementById('email').value = storedValue4;
            }

            var storedValue5 = localStorage.getItem('location');
            if (storedValue5) {
                document.getElementById('location').value = storedValue5;
            }

             var storedValue6 = localStorage.getItem('picture');
            if (storedValue6) {
                document.getElementById('picture').src = storedValue6;
            }
            
            

        }




        //Script for changing profile picture 

        $(document).ready(function () {
            var readURL = function (input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('.avatar').attr('src', e.target.result);
                    }

                    reader.readAsDataURL(input.files[0]);
                }
            }

            $(".file-upload").on('change', function () {
                readURL(this);
            });
        });

        const realFileBtn = document.getElementById("real-file-button");
        const customBtn = document.getElementById("custom-button");
        const customTxt = document.getElementById("custom-text");

        customBtn.addEventListener("click", function () {
            realFileBtn.click();
        });
    </script>


</body>

</html>